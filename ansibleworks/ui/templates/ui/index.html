<!doctype html>
<html lang="en" ng-app="ansible">
<head>
  <meta charset="utf-8">
  <title>Ansible Commander</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="{{ STATIC_URL }}css/bootstrap.min.css" />
  <link rel="stylesheet" href="{{ STATIC_URL }}css/bootstrap-responsive.min.css" />
  <link rel="stylesheet" href="{{ STATIC_URL }}css/font-awesome.min.css" />
  <link rel="stylesheet" href="{{ STATIC_URL }}css/ansible-ui.css" />
  <link rel="shortcut icon" href="{{ STATIC_URL }}img/favicon.ico" />
  <script src="{{ STATIC_URL }}js/config.js"></script>
  <script src="{{ STATIC_URL }}lib/angular/angular.js"></script>
  <script src="{{ STATIC_URL }}lib/angular/angular-resource.js"></script>
  <script src="{{ STATIC_URL }}lib/angular/angular-cookies.js"></script>
  {% if 0 and not settings.DEBUG %} {# FIXME: Change to use minified JS once we are building it. #}
  <script src="{{ STATIC_URL }}js/ansible.min.js"></script> <!-- FIXME: Change to whatever we end up calling the minified file. -->
  {% else %}
  <script src="{{ STATIC_URL }}js/app.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/authenticate.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/rest-services.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/utilities.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/form-generator.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/list-generator.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/prompt-dialog.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/generator-helpers.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Authentication.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Organizations.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Users.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Admins.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Inventories.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Teams.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Credentials.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Hosts.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Groups.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/JobTemplates.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Projects.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/Jobs.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/JobEvents.js"></script>
  <script src="{{ STATIC_URL }}js/controllers/JobHosts.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Users.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Organizations.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Inventories.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Teams.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Hosts.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Groups.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Credentials.js"></script>
  <script src="{{ STATIC_URL }}js/forms/JobTemplates.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Jobs.js"></script>
  <script src="{{ STATIC_URL }}js/forms/JobEvents.js"></script>
  <script src="{{ STATIC_URL }}js/forms/Projects.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Users.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Organizations.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Admins.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Inventories.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Teams.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Hosts.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Groups.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Credentials.js"></script>
  <script src="{{ STATIC_URL }}js/lists/JobTemplates.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Projects.js"></script>
  <script src="{{ STATIC_URL }}js/lists/Jobs.js"></script>
  <script src="{{ STATIC_URL }}js/lists/JobEvents.js"></script>
  <script src="{{ STATIC_URL }}js/lists/JobHosts.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/refresh-related.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/related-paginate.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/related-search.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/refresh.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/search.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/paginate.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/inventory.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/teams.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/JobTemplate.js"></script>
  <script src="{{ STATIC_URL }}js/helpers/Lookup.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/directives.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/filters.js"></script>
  <script src="{{ STATIC_URL }}lib/ansible/api-loader.js"></script>
  {% endif %}
  <!-- <script src="{{ STATIC_URL }}lib/angular/http-auth-interceptor.js"></script> -->
 </head>
<body>

    <div class="navbar navbar-inverse navbar-fixed-top">
       <div class="navbar-inner">
         <div class="container">
           <a class="brand" href="#/"><img class="logo" src="{{ STATIC_URL }}img/ansibleworks-logo.png" /></a>
           <ul class="nav pull-right">
             <li ng-show="current_user.username != null && current_user.username != undefined">
              <a href="" ng-click="viewCurrentUser()" ng-bind="'Hello! ' + current_user.username"></a></li>
             <li ng-show="userLoggedIn == true"><a href="#/logout">Logout</a></li>
           </ul>
         </div><!-- container -->
       </div><!-- navbar-inner -->
    </div><!-- navbar -->
    
    <div class="container-fluid">

    <div class="row-fluid">
      <div class="span12">

      </div><!-- span12 -->
    </div><!-- row -->


    <div class="row-fluid">
      <div class="span12">
        <ul class="nav nav-tabs">
          <li class="active"><a href="#organizations" data-toggle="tab">Organizations</a></li>
          <li><a href="#users" data-toggle="tab">Users</a></li>
          <li><a href="#teams" data-toggle="tab">Teams</a></li>
          <li><a href="#projects" data-toggle="tab">Projects</a></li>
          <li><a href="#inventories" data-toggle="tab">Inventories</a></li>
          <li><a href="#credentials" data-toggle="tab">Credentials</a></li>
          <li><a href="#job_templates" data-toggle="tab">Job Templates</a></li>
          <li><a href="#jobs" data-toggle="tab">Jobs</a></li>
        </ul>
     
        <div class="tab-content">
          <div ng-view id="main-view"></div>
        </div>
      </div>
    </div>

    <!-- Confirmation Dialog -->
    <div id="prompt-modal" class="modal hide">
      <div class="modal-header">
        <button type="button" class="close" data-target="#prompt-modal" 
                        data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3 ng-bind="promptHeader" id="prompt-header"></h3>
      </div>
      <div class="modal-body" ng-bind="promptBody" id="prompt-body">
      </div>
      <div class="modal-footer">
        <a href="#" data-target="#prompt-modal" data-dismiss="modal" class="btn">No</a>
        <a href="" ng-click="promptAction()" id="prompt-action-btn" class="btn">Yes</a>
      </div>
    </div>

    <!-- Password Dialog -->
    <div id="password-modal" class="modal hide">
      <div class="modal-header">
        <button type="button" class="close" data-target="#prompt-modal" 
                        data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Password Required</h3>
      </div>
      <div class="modal-body" id="password-body">
      </div>
      <div class="modal-footer">
        <a href="#" data-target="#password-modal" data-dismiss="modal" class="btn">Cancel</a>
        <a href="" ng-click="startJob()" class="btn btn-primary" ng-disabled="password_form.$pristine || password_form.$invalid">Continue</a>
      </div>
    </div>

    <!-- Lookup dialog. Use for attribute selection -->
    <div id="lookup-modal" class="modal hide">
      <div class="modal-header">
        <button type="button" class="close" data-target="#lookup-modal" 
                        data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3 ng-bind="lookupHeader"></h3>
      </div>
      <div class="modal-body" id="lookup-modal-body"></div>
      <div class="modal-footer">
        <a href="#" data-target="#lookup-modal" data-dismiss="modal" class="btn">Cancel</a>
        <a href="" ng-click="selectAction()" class="btn btn-success">Select</a>
      </div>
    </div>

    <!-- Alerts/error handling dialog -->
    <div id="alert-modal" class="modal hide">
      <div class="modal-header">
        <button type="button" class="close" data-target="#alert-modal" 
                        data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3 ng-bind="alertHeader"></h3>
      </div>
      <div class="modal-body">
        <div class="alert alert-error" ng-bind="alertBody"></div>
      </div>
      <div class="modal-footer">
        <a href="#" data-target="#alert-modal" data-dismiss="modal" class="btn">OK</a>
      </div>
    </div>
  
  </div><!-- container -->

  <div class="site-footer">
    <div>
      <div class="social">
        <a href="https://github.com/ansible" target="_blank"><i class="icon-github"></i></a>
        <a href="https://www.facebook.com/pages/Ansibleworks/258737970923512?ref=hl" target="_blanck"><i class="icon-facebook"></i></a>
        <a href="http://www.twitter.com/ansibleworks" target="_blanck"><i class="icon-twitter"></i></a>
        <a href="http://www.linkedin.com/company/ansibleworks" target="_blanck"><i class="icon-linkedin"></i></a>
        <a href="mailto://info@ansibleworks.com"><i class="icon-envelope"></i></a>
      </div>
      <div class="logo pull-right">
        <a href="http://www.ansibleworks.com" target="_blank"><img src="{{ STATIC_URL }}img/ansible-logo-bw-invert.png" /></a>
        <div class="tag-line">Radically simple IT orchestration.</div>
      </div>
    </div>
    <div class="copyright">Copyright &copy; 2013 AnsibleWorks, Inc. All rights reservied.<br />1482 East Valley Road, Suite 888 &middot; Montecito, California 9308 &middot; +1-800-825-0212</div>
  </div><!-- site footer --> 
  
  <script src="{{ STATIC_URL }}lib/jquery/jquery-1.9.1.min.js"></script>
  <script src="{{ STATIC_URL }}lib/twitter/bootstrap.min.js"></script>
  <script src="{{ STATIC_URL }}lib/jstree/jquery.jstree.js"></script>
  <script>
      $('a[data-toggle="tab"]').on('show', function (e) {
          var url = $(e.target).text();
          var regx = new RegExp('/\#\/' + url.toLowerCase().replace(/ /g,'_') + '/');

          var loc = window.location.toString();
          if (! regx.test(loc)) {
             window.location = '#/' + url.toLowerCase().replace(/ /g,'_');
          }
          });
  </script>

</body>
</html>
