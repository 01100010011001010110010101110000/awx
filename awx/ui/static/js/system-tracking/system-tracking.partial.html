<section class="SystemTrackingContainer">
    <breadcrumbs>
      <breadcrumb path="/inventories" title="Inventories"></breadcrumb>
      <breadcrumb path="/inventories/{{inventory.id}}/manage" title="{{inventory.name}}"></breadcrumb>
      <breadcrumb path="/inventories/{{inventory.id}}/system-tracking/{{hostIds}}" title="System Tracking" current="true"></breadcrumb>
    </breadcrumbs>

    <div class="FactModulePickers">
        <div class="FactModulePickers-dateContainer FactModulePickers-dateContainer--left">
            <span class="FactModulePickers-label">{{ factModulePickersLabelLeft }}</span>
            <date-picker date="leftDate"></date-picker>
        </div>
        <div class="FactModulePickers-dateContainer FactModulePickers-dateContainer--right" ng-show="compareMode == 'single-host'">
            <span class="FactModulePickers-label">{{ factModulePickersLabelRight }}</span>
            <date-picker date="rightDate" min-date="leftDate"></date-picker>
        </div>
    </div>

    <nav class="btn-group FactModuleFilter">
        <button
            ng-class="{  'btn': true,
                         'btn-default': true,
                         'FactModuleFilter-module': true,
                         'is-active': module.isActive,
                      }"
            ng-click="setActiveModule(module.name)"
            ng-repeat="module in modules | orderBy: 'sortKey'">
            {{module.displayName}}
        </button>
    </nav>

    <section class="FactDataError SystemTrackingContainer-main" ng-if="error" ng-switch="error.name">
        <p class="FactDataError-message" ng-switch-when="NoScanData">
        There were no facts collected on or before the dates you selected ({{error.dateValues.leftDate|amDateFormat:'L'}} and {{error.dateValues.rightDate|amDateFormat:'L'}}). Please pick a different range or module and try again.
        </p>
        <p class="FactDataError-message" ng-switch-when="InsufficientScanData">
        There were no facts collected on or before one of the dates you selected ({{error.dateValue|amDateFormat:'L'}}). Please select a different date and try again.
        </p>
        <p class="FactDataError-note">
        To setup or run scan jobs, edit the "<a link-to="inventoryEdit" model="{ inventory_id: inventory }">{{inventory.name}}</a>" inventory and select "Scan Jobs Templates".
        </p>
    </section>
    <fact-data-table
        left-hostname="leftHostname"
        right-hostname="rightHostname"
        left-scan-date="leftScanDate"
        right-scan-date="rightScanDate"
        left-data-no-scans="leftDataNoScans"
        right-data-no-scans="rightDataNoScans"
        fact-data="factData">
    </fact-data-table>
</section>
