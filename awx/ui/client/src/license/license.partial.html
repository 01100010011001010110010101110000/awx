<div class="License-container">
	<div class="License-details" ng-if="!licenseMissing">
		<div class="Panel">
			<div class="License-titleText">Details</div>
			<div class="License-fields">
				<div class="License-field">
					<div class="License-field--label">License</div>
					<div class="License-field--content">
					<span ng-show='valid'><i class="fa fa-circle License-greenText"></i>   Valid</span>
					<span ng-show='invalid'><i class="fa fa-circle License-redText"></i>   Invalid</span>
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">Version</div>
					<div class="License-field--content">
					{{license.version || "No result found"}}
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">License Type</div>
					<div class="License-field--content">
					{{license.license_info.license_type || "No result found"}}
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">Subscription</div>
					<div class="License-field--content">
					{{license.license_info.subscription_name || "No result found"}}
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">License Key</div>
					<div class="License-field--content">
					{{license.license_info.license_key || "No result found"}}
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">Expires On</div>
					<div class="License-field--content">
					{{time.expiresOn}}
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">Time Remaining</div>
					<div class="License-field--content">
					{{time.remaining}} Days
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">Hosts Available</div>
					<div class="License-field--content">
					{{license.license_info.available_instances || "No result found"}}
					</div>
				</div>
				<div class="License-field">
					<div class="License-field--label">Hosts Used</div>
					<div class="License-field--content">
					{{license.license_info.current_instances || "No result found"}}
					</div>
				</div>
				<div class="License-field License-greenText">
					<div class="License-field--label">Hosts Remaining</div>
					<div class="License-field--content">
					{{license.license_info.free_instances || "No result found"}}
					</div>
				</div>
			</div>
			<div class="License-upgradeText">If you are ready to upgrade, please contact us by clicking the button below</div>
			<a href="https://www.ansible.com/renew" target="_blank"><button class="btn btn-default">Upgrade</button></a>
		</div>
	</div>
	<div class="License-management" ng-class="{'License-management--missingLicense' : licenseMissing}">
		<div class="Panel">
			<div class="License-titleText">{{title}}</div>
			<div class="License-body">
				<div class="AddPermissions-directions" ng-if="licenseMissing">
					<span class="AddPermissions-directionNumber">
						1.
					</span>
					<span class="License-helperText">
						Please click the button below to visit Ansible's website to get a Tower license key.
					</span>
				</div>

					<button class="License-downloadLicenseButton btn" ng-if="licenseMissing" ng-click="downloadLicense()">
						Request License
					</button>

				<div class="AddPermissions-directions">
					<span class="AddPermissions-directionNumber" ng-if="licenseMissing">
						2.
					</span>
					<span class="License-helperText">
						Choose your license file, agree to the End User License Agreement, and click submit.
					</span>
				</div>

				<form id="License-form" name="license">
					<div class="License-subTitleText prepend-asterisk"> License File</div>
					<div class="input-group License-file--container">
						<span class="btn btn-primary" ng-click="fakeClick()">Browse</span>
						<span class="License-fileName" ng-class="{'License-helperText' : fileName == 'No file selected.'}">{{fileName}}</span>
						<input id="License-file" class="form-control" type="file" file-on-change="getKey"/>
					</div>
					<div class="License-subTitleText prepend-asterisk"> End User License Agreement</div>
					<div class="form-group License-eula">
						<textarea class="form-control">{{license.eula}}
						</textarea>
					</div>
					<div class="form-group">
						<div class="checkbox">
							<div class="License-details--label"><input type="checkbox" ng-model="newLicense.eula" required>  I agree to the End User License Agreement</div>
						</div>
					</div>
					<div class="License-submit--container">
						<span ng-show="success == true" class="License-greenText License-submit--success pull-left">Save successful!</span>
						<button ng-click="submit()" class="btn btn-success pull-right" ng-disabled="newLicense.file.license_key == null || newLicense.eula == null">Submit</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
