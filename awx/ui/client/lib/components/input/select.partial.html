<div class="col-sm-{{::col}}">
    <div class="form-group at-u-flat">
        <at-input-label state="state"></at-input-label>
        <div class="at-InputGroup at-InputSelect">
            <input type="text" class="form-control at-Input at-InputSelect-input"
                   placeholder="{{ state.placeholder | uppercase }}"
                   ng-class="{ 'at-Input--rejected': state.rejected }"
                   ng-model="state.value"
                   ng-disabled="state.disabled || form.disabled"
                   ng-change="vm.check()" />

            <select class="form-control at-InputSelect-select" ng-model="state.value"
                    ng-attr-tabindex="{{ tab || undefined }}" 
                    ng-disabled="state.disabled || form.disabled">
                <optgroup ng-repeat="group in state.data"
                          label="{{::group.category | uppercase }}">
                    <option ng-repeat="item in group.data" value="{{ item.name }}">
                        {{ item.name }}
                    </option>
                </optgroup>
            </select>
            <i class="fa" ng-class="{ 'fa-chevron-down': !open, 'fa-chevron-up': open }"></i>
        </div>
        <p ng-if="state.rejected && !state.isValid" class="at-InputMessage--rejected">
            {{ state.message }}
        </p>
    </div>
</div>
